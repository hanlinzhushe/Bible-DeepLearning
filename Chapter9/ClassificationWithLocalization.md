图像分类问题：Image Classification，判断图像是不是汽车  
图像定位分类问题：Image Classification With Localization，判断图像是不是一辆汽车，并标出洗车的位置  
物体检测问题：检测图像中是否存在车子。如果有车子，标出洗车的位置。如果有多个车子，标出每个车子的位置。  

# 利用神经网络进行图像定位

![](/assets/images/Chapter9/19.png)  

假设要识别的目标有三类：pedestrain、car、motorcycle  
定义图像的左上角坐标为（0，0），右下角坐标为（1，1）。目标的中心点为bx, by，目标的大小为bh, bw。  
定义一个训练集的label应该为1*8的向量，即：  
$$
y = [p_c, b_x, b_y, b_h, b_w, c_1, c_2, c_3]^\top
$$

pc：图像中是否存在对象。  
bx, by, bw, bh：对象的位置。  
c1, c2, c3：是什么对象，三个数值只能有一个是1。  
例如：$y = [1, b_x, b_y, b_h, b_w, 0, 1, 0]^\top$或$y = [0, ?, ?, ?, ?, ?, ?, ?]^\top$  

定义一个样本上的损失函数为：  
当pc = 1时，l = MSE(bx, by, bw, bh) + CrossEntropy(c1, c2, c3)  
当pc = 0时，l = 1  

# 目标检测算法  

1. 使用图像分类算法判断一张图像是不是车  
2. 滑动窗口目标检测  
    以固定的步幅滑动窗口，遍历图像每个区域。  
    把这些剪裁后的小图像输入卷积网络。  
    对每个位置按0、1进行分类。  
3. 换一个更大的窗口，重复以上动作。  

缺点：计算成本高  

# 在卷积层上使用滑动窗口算法  

1. 把事FC的网络转成全部是卷积层的网络。例如：  
![](/assets/images/Chapter9/20.png)   
2. 在卷积层上使用滑动窗口  
![](/assets/images/Chapter9/21.png)   

原理：  
不需要把输入图像分割成4个子集分别执行前向传播，而是把它们作为一张图像输入给卷积层进行计算。  
其中的公有区域可以共享很多计算。  

缺点：  
边界框的位置可能不够准确。  

# YOLO算法  You Only Look Once  



